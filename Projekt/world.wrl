#VRML V2.0 utf8

# Skifahrer Extern Proto
EXTERNPROTO Skifahrer [
    field SFColor farbe
    field SFString desc
]
[
    "skifahrer.wrl"
]


# Definition Skilift-Stuetzen 
DEF Skilift Transform {
    scale 1 0.8 1
    translation 3.5 1.8 -4.5
    children [
        # Stange nach oben
        Transform {
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 0.31 0.31 0.31 
                        } 
                    }
                    geometry Box {
                        size 0.3 4 0.3
                    }
                }
            ]
        }
        # Stange nach vorne
        Transform {
            translation 0 1.8 0.8 
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 0.31 0.31 0.31 
                        } 
                    }
                    geometry Box {
                        size 0.3  0.2 1.5 
                    }
                }
            ]
        }
        # Kabelaufhaengung 
        Transform {
            translation 0 1.5 1.2
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 0.31 0.31 0.31 
                        } 
                    }
                    geometry Box {
                        size 0.3  0.4 0.3
                    }
                }
            ]
        }
        # Lampe
        Transform {
            translation 0 1.8 1.6
            rotation 1 0 0 -0.45
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 0.31 0.31 0.31
                        }
                    }
                    geometry Cone {
                        bottomRadius 0.15 
                        height 0.2 
                    }
                }
            ]
        }
        Transform {
            translation 0 1.8 0
            rotation 1 0 0 -0.65
            children [
                SpotLight {
                    intensity 0.8
                    direction 0 -1 0
                    color 0 1 0 
                    radius 100 
                    beamWidth 0.523 # 30 grad
                    cutOffAngle 0.349 # 20 grad
                }
            ]
        }
    ]
}


# Definition Baeume
DEF Baum Transform {
    scale 0.7 0.8 0.7
    children [
        # Baum
        Transform {
            translation 0 1.1 0 
            #rotation 0 0 1 0.524
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 0.17 .10 .07 
                        }
                    }
                    geometry Cylinder {
                        height 2 
                        radius 0.3 
                    }
                }
           ]
        }
        # Bl√§tter
        Transform {
            translation 0 1.8 0 
            children [
                # Blatt 1
                Transform {
                    translation 0 1 0
                    children [
                        Shape {
                            appearance Appearance {
                                material Material {
                                    diffuseColor 0 0.53 0 
                                }
                            }
                            geometry Cone {
                                bottomRadius 1 
                                height 1
                            }
                        }
                    ]
                }
                # Blatt 2 
                Transform {
                    translation 0 0.5 0
                    children [
                        Shape {
                            appearance Appearance {
                                material Material {
                                    diffuseColor 0 0.53 0 
                                }
                            }
                            geometry Cone {
                                bottomRadius 1.2 
                                height 1
                            }
                        }
                    ]
                }
                # Blatt 3 
                Transform {
                    translation 0 0 0
                    children [
                        Shape {
                            appearance Appearance {
                                material Material {
                                    diffuseColor 0 0.53 0 
                                }
                            }
                            geometry Cone {
                                bottomRadius 1.4 
                                height 1
                            }
                        }
                    ]
                }
           ]
        }
    ]
}



Transform {
    children [
        # Gerade
        Transform {
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 1 1 1
                        }
                    }
                    geometry Box {
                            size 8 0.5 10 
                    }
                }
           ]
        }
        # Hang
        Transform {
            translation 9.5 3.2 0 
            rotation 0 0 1 0.524
            scale 1.3 1 1
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 1 1 1
                        }
                    }
                    geometry Box {
                        size 10 0.5 10 
                    }
                }
           ]
        }
        # Haus
        Transform {
            scale 0.8 0.8 0.8
            translation 0 0.8 -3
            children [
                # Haus Box
                Transform {
                    children [
                        Shape {
                            appearance Appearance {
                                material Material {
                                    diffuseColor 0.81 0.73 0.54 
                                }
                            }
                            geometry Box {
                                size 2.5 1.5 2.0
                            }
                        }
                    ]
                }
                # Haus Dach
                Transform {
                    translation -1.5 0.5 0 
                    children [
                        Shape {
                            appearance Appearance {
                                material Material {
                                    diffuseColor 0.67 0.34 0.35
                                } 
                            }
                            geometry IndexedFaceSet {
                                coord Coordinate {
                                    point [
                                        # vorne
                                        0 0 1.5, # 0 links unten
                                        3 0 1.5, # 1 rechts unten
                                        3 1 0, # 2 rechts oben
                                        0 1 0, # 3 links oben
                                        # hinten
                                        0 0 -1.5, # 4 links unten
                                        3 0 -1.5,  # 5 rechts unten
                                        3 1 0, # 6 rechts oben 
                                        0 1 0 # 7 links oben
                                    ]
                                }
                                coordIndex [
                                    0 1 2 3 -1
                                    7 6 5 4 -1
                                    0 3 4 -1
                                    1 5 2 -1
                                    4 5 1 0 -1
                                ]     
                            }
                        }    
                    ]
                }
            ]
        }
        #Skilift Pole 2
        Transform {
            translation 2.5 1.2 0 
            children [
                USE Skilift
            ]
        }
        #Skilift Pole 3
        Transform {
            translation 5 2.6 0 
            children [
                USE Skilift
            ]
        }
        #Skilift Pole 4
        Transform {
            translation 7.5 4 0 
            children [
                USE Skilift
            ]
        }
        #Skilift Pole 5
        Transform {
            translation 10 5.4 0 
            children [
                USE Skilift
            ]
        }
        # Kabel
        Transform {
            rotation 0 0 1 -1.07
            translation 8.6 5.75 -3.28
            children [
                Shape {
                    appearance Appearance {
                        material Material {
                            diffuseColor 0.2 0.2 0.2
                        } 
                    }
                    geometry Cylinder {
                        radius 0.05
                        height 11.4 
                        bottom TRUE
                        side TRUE
                    }
                }
            ]
        }
        # Baum 2
        Transform {
            translation -1 0 2
            scale 0.6 0.9 0.6 
            children [
                USE Baum
            ]
        } 
        # Baum 3
        Transform {
            translation -3 0 0 
            scale 0.6 1.3 0.6
            children [
                USE Baum
            ]
        } 
        # Baum 4
        Transform {
            translation 8 2.3 4.3
            scale 0.6 0.8 0.6
            children [
                USE Baum
            ]
        } 
        # Baum 5
        Transform {
            translation 5 0.8 -4.5
                scale 0.6 0.8 0.6 
            children [
                USE Baum
            ]
        } 
        # Baum 6
        Transform {
                translation 6 1.2 3.5 
            scale 0.8 0.9 1
            children [
                USE Baum
            ]
        } 
        # Baum 7
        Transform {
            translation -3 0 4 
            scale 0.7 0.9 0.7 
            children [
                USE Baum
            ]
        } 
        # Baum 8
        Transform {
            translation 0 0 4
            scale 0.9 1.2 0.9
            children [
                USE Baum
            ]
        } 
        # Baum 9
        Transform {
            translation 3 0 4
            scale 0.8 0.9 0.8 
            children [
                USE Baum
            ]
        } 
        # Baum 10 
        Transform {
            translation -3 0 -4 
            scale 0.8  1.2 0.8
            children [
                USE Baum
            ]
        } 
        # Skifahrer 
        Transform {
            rotation 0 1 0 -1.57
            scale 0.2 0.2 0.2
            translation 14 6.1 -2 
            children [
                # Skifahrer 1 
                Transform {
                    rotation 1 0 0 0.5
                    children [ Skifahrer { }
                    ]
                }
                # Skifahrer 2 
                Transform {
                    rotation 1 0 0 0.5
                    translation 8 0 0
                    children [
                        Skifahrer {
                            farbe 0.4 0.8 0.3
                            desc "Skifahrer2"
                        }
                    ]
                }
                # Skifahrer 3 
                Transform {
                    rotation 1 0 0 0.5
                    translation 12 0 0
                    children [
                        Skifahrer {
                            farbe 0.8 0.3 0.4
                            desc "Skifahrer3"
                        }
                    ]
                }
                # Skifahrer 4 
                Transform {
                    rotation 1 0 0 0.5
                    translation 16 0 0
                    children [
                        Skifahrer {
                            farbe 0 1 1 
                            desc "Skifahrer4"
                        }
                    ]
                }
            ]
        }
    ]
}           

# Vogelperspektive
Viewpoint {
    description "Vogelperspektive"
    position 6 25 0
    orientation 1 0 0 -1.57079633
}

# Front
Viewpoint {
    description "Front"
    position -12 3.5 0
    orientation 0 1 0 -1.57079633
}

# side
Viewpoint {
    description "Side"
    position 6 3.5 20 
}

# backside
Viewpoint {
    description "Backside"
    position 6 3.5 -20 
    orientation 0 1 0 -3.14159265
}
# action
Transform {
    translation 21 11 -10 
    rotation 0 0 1 0.3
    children [
        Viewpoint {
            description "Action"
            orientation 0 1 0 1.57079633
        }
    ]
}







